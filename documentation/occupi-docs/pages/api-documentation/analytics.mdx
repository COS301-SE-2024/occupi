# Analytics usage

The analytics endpoint is used to get the analytics of the office space. You can get analytics
for a specific user or for all users. By all users we mean that you cna analyze the data for
all the users in the office space.

# Table of Contents

- [Analytics Usage](#analytics-usage)
- [Table of Contents](#table-of-contents)
    - [Base URL](#base-url)
    - [Analytics](#analytics)
        - [User hours](#user-hours)
        - [User average hours](#user-average-hours)
        - [User work ratio](#user-work-ratio)
        - [User peak office hours](#user-peak-office-hours)
        - [Most active employee](#most-active-employee)
        - [Least active employee](#least-active-employee)
        - [Workers hours](#workers-hours)
        - [Workers average hours](#workers-average-hours)
        - [Workers work ratio](#workers-work-ratio)
        - [Workers peak office hours](#workers-peak-office-hours)

## Base URL

The base URL for the Occupi API is `https://occupi.tech`, `https://dev.occupi.tech` or `http://localhost:8080` if you are in develop mode.

## Analytics

The analytics endpoint is used to get the analytics of the office space.

### User hours

The user hours endpoint is used to get the hours of a specific user in the office space.

- **URL**

  `/analytics/user-hours`

- **Method**

    `GET`

- **Request Body**

    ```json
    {
        "email": "abcd@gmail", // this is optional
        "timeFrom": "2021-01-01T00:00:00.000Z", // this is optional and will default to 1970-01-01T00:00:00.000Z
        "timeTo": "2021-01-01T00:00:00.000Z", // this is optional and will default to current date
        "limit": 50, // this is optional and will default to 50
        "page": 1 // this is optional and will default to 1
    }
    ```

- **URL Params**

```
/analytics/user-hours?email=abcd@gmail&timeFrom=2021-01-01T00json&timeTo=2021-01-01T00:00:00.000Z&limit=50&page=1
```

- **Success Response**

    - **Code:** 200
    - **Content:** 
    ```json
    {
        "response": "Successfully fetched user analytics! Note that all analytics are measured in hours.",
        "data": [data],
        "totalResults": 1,
        "totalPages": 1,
        "currentPage": 1,
        "status": 200,
    }
    ```

- **Error Response**

    - **Code:** 500
    - **Content:** 
    ```json
    {
        "error": "Failed to fetch user analytics!",
        "status": 500,
    }
    ```

### User average hours

The user average hours endpoint is used to get the average hours of a specific user in the office space.

- **URL**

  `/analytics/user-average-hours`

- **Method**

    `GET`

- **Request Body**

    ```json
    {
        "email": "abcd@gmail", // this is optional
        "timeFrom": "2021-01-01T00:00:00.000Z", // this is optional and will default to 1970-01-01T00:00:00.000Z
        "timeTo": "2021-01-01T00:00:00.000Z", // this is optional and will default to current date
        "limit": 50, // this is optional and will default to 50
        "page": 1 // this is optional and will default to 1
    }
    ```

- **URL Params**

```
/analytics/user-average-hours?email=abcd@gmail&timeFrom=2021-01-01T00json&timeTo=2021-01-01T00:00:00.000Z&limit=50&page=1
```

- **Success Response**

    - **Code:** 200
    - **Content:** 
    ```json
    {
        "response": "Successfully fetched user analytics! Note that all analytics are measured in hours.",
        "data": [data],
        "totalResults": 1,
        "totalPages": 1,
        "currentPage": 1,
        "status": 200,
    }
    ```

- **Error Response**

    - **Code:** 500
    - **Content:** 
    ```json
    {
        "error": "Failed to fetch user analytics!",
        "status": 500,
    }
    ```

### User work ratio

The user work ratio endpoint is used to get the work ratio of a specific user in the office space.

- **URL**

  `/analytics/user-work-ratio`

- **Method**

    `GET`

- **Request Body**

    ```json
    {
        "email": "abcd@gmail", // this is optional
        "timeFrom": "2021-01-01T00:00:00.000Z", // this is optional and will default to 1970-01-01T00:00:00.000Z
        "timeTo": "2021-01-01T00:00:00.000Z", // this is optional and will default to current date
        "limit": 50, // this is optional and will default to 50
        "page": 1 // this is optional and will default to 1
    }
    ```

- **URL Params**

```
/analytics/user-work-ratio?email=abcd@gmail&timeFrom=2021-01-01T00json&timeTo=2021-01-01T00:00:00.000Z&limit=50&page=1
```

- **Success Response**

    - **Code:** 200
    - **Content:** 
    ```json
    {
        "response": "Successfully fetched user analytics! Note that all analytics are measured in hours.",
        "data": [data],
        "totalResults": 1,
        "totalPages": 1,
        "currentPage": 1,
        "status": 200,
    }
    ```

- **Error Response**

    - **Code:** 500
    - **Content:** 
    ```json
    {
        "error": "Failed to fetch user analytics!",
        "status": 500,
    }
    ```

### User peak office hours

The user peak office hours endpoint is used to get the peak office hours of a specific user in the office space.

- **URL**

  `/analytics/user-peak-office-hours`

- **Method**

    `GET`

- **Request Body**

    ```json
    {
        "email": "abcd@gmail", // this is optional
        "timeFrom": "2021-01-01T00:00:00.000Z", // this is optional and will default to 1970-01-01T00:00:00.000Z
        "timeTo": "2021-01-01T00:00:00.000Z", // this is optional and will default to current date
        "limit": 50, // this is optional and will default to 50
        "page": 1 // this is optional and will default to 1
    }
    ```

- **URL Params**

```
/analytics/user-peak-office-hours?email=abcd@gmail&timeFrom=2021-01-01T00json&timeTo=2021-01-01T00:00:00.000Z&limit=50&page=1
```

- **Success Response**

    - **Code:** 200
    - **Content:** 
    ```json
    {
        "response": "Successfully fetched user analytics! Note that all analytics are measured in hours.",
        "data": [data],
        "totalResults": 1,
        "totalPages": 1,
        "currentPage": 1,
        "status": 200,
    }
    ```

- **Error Response**

    - **Code:** 500
    - **Content:** 
    ```json
    {
        "error": "Failed to fetch user analytics!",
        "status": 500,
    }
    ```

### Most active employee

The most active employee endpoint is used to get the most active employee in the office space.

- **URL**

  `/analytics/most-active-employee`

  
- **Method**

    `GET`

- **Request Body**

    ```json
    {
        "email": "abcd@gmail", // this is optional
        "timeFrom": "2021-01-01T00:00:00.000Z", // this is optional and will default to 1970-01-01T00:00:00.000Z
        "timeTo": "2021-01-01T00:00:00.000Z", // this is optional and will default to current date
        "limit": 50, // this is optional and will default to 50
        "page": 1 // this is optional and will default to 1
    }
    ```

- **URL Params**

```
/analytics/most-active-employee?email=abcd@gmail&timeFrom=2021-01-01T00json&timeTo=2021-01-01T00:00:00.000Z&limit=50&page=1
```

- **Success Response**

    - **Code:** 200
    - **Content:** 
    ```json
    {
        "totalResults": 1,
        "totalPages": 1,
        "currentPage": 1,
        "status": 200,
    }
    ```

- **Error Response**

    - **Code:** 500
    - **Content:** 
    ```json
    {
        "error": "Failed to fetch user analytics!",
        "status": 500,
    }
    ```

### Least active employee

The least active employee endpoint is used to get the least active employee in the office space.

- **URL**

  `/analytics/least-active-employee`

  
- **Method**

    `GET`

- **Request Body**

    ```json
    {
        "email": "abcd@gmail", // this is optional
        "timeFrom": "2021-01-01T00:00:00.000Z", // this is optional and will default to 1970-01-01T00:00:00.000Z
        "timeTo": "2021-01-01T00:00:00.000Z", // this is optional and will default to current date
        "limit": 50, // this is optional and will default to 50
        "page": 1 // this is optional and will default to 1
    }
    ```

- **URL Params**

```
/analytics/least-active-employee?email=abcd@gmail&timeFrom=2021-01-01T00json&timeTo=2021-01-01T00:00:00.000Z&limit=50&page=1
```

- **Success Response**

    - **Code:** 200
    - **Content:** 
    ```json
    {
        "totalResults": 1,
        "totalPages": 1,
        "currentPage": 1,
        "status": 200,
    }
    ```

- **Error Response**

    - **Code:** 500
    - **Content:** 
    ```json
    {
        "error": "Failed to fetch user analytics!",
        "status": 500,
    }
    ```

### Workers hours

The workers hours endpoint is used to get the hours of all the workers in the office space.

- **URL**

  `/analytics/hours`

  
- **Method**

    `GET`

- **Request Body**

    ```json
    {
        "email": "abcd@gmail", // this is optional
        "timeFrom": "2021-01-01T00:00:00.000Z", // this is optional and will default to 1970-01-01T00:00:00.000Z
        "timeTo": "2021-01-01T00:00:00.000Z", // this is optional and will default to current date
        "limit": 50, // this is optional and will default to 50
        "page": 1 // this is optional and will default to 1
    }
    ```

- **URL Params**

```
/analytics/hours?email=abcd@gmail&timeFrom=2021-01-01T00json&timeTo=2021-01-01T00:00:00.000Z&limit=50&page=1
```

- **Success Response**

    - **Code:** 200
    - **Content:** 
    ```json
    {
        "response": "Successfully fetched user analytics! Note that all analytics are measured in hours.",
        "data": [data],
        "totalResults": 1,
        "totalPages": 1,
        "currentPage": 1,
        "status": 200,
    }
    ```

- **Error Response**

    - **Code:** 500
    - **Content:** 
    ```json
    {
        "error": "Failed to fetch user analytics!",
        "status": 500,
    }
    ```

### Workers average hours

The workers average hours endpoint is used to get the average hours of all the workers in the office space.

- **URL**

  `/analytics/average-hours`

  
- **Method**

    `GET`

- **Request Body**

    ```json
    {
        "email": "abcd@gmail", // this is optional
        "timeFrom": "2021-01-01T00:00:00.000Z", // this is optional and will default to 1970-01-01T00:00:00.000Z
        "timeTo": "2021-01-01T00:00:00.000Z", // this is optional and will default to current date
        "limit": 50, // this is optional and will default to 50
        "page": 1 // this is optional and will default to 1
    }
    ```

- **URL Params**

```
/analytics/average-hours?email=abcd@gmail&timeFrom=2021-01-01T00json&timeTo=2021-01-01T00:00:00.000Z&limit=50&page=1
```

- **Success Response**

    - **Code:** 200
    - **Content:** 
    ```json
    {
        "response": "Successfully fetched user analytics! Note that all analytics are measured in hours.",
        "data": [data],
        "totalResults": 1,
        "totalPages": 1,
        "currentPage": 1,
        "status": 200,
    }
    ```

- **Error Response**

    - **Code:** 500
    - **Content:** 
    ```json
    {
        "error": "Failed to fetch user analytics!",
        "status": 500,
    }
    ```
